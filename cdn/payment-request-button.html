<!doctype html>
<html>
  <head lang='en'>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <title>Airwallex Checkout Playground</title>
    <!-- Step #1: Load Checkout Universal Module Definition (UMD) bundle js-->
    <script src="https://checkout.airwallex.com/assets/bundle.xx.xx.xx.min.js"></script>
  </head>
  <body>
    <h1>Airwallex checkout integration</h1>
    <h1>Payment request button</h1>
    <div id='paymentRequestButton'></div>
    <script>
      // Step #2: Initialize the Airwallex global context for event communication
      Airwallex.init({
        env: 'demo', // Which env('staging' | 'demo' | 'prod') you would like to integrate with
        origin: window.location.origin, // Setup your event target to receive the browser events message
      });
      const paymentRequestButton = Airwallex.createElement('paymentRequestButton', {
        intent: { // Required, dropIn use intent Id and client_secret to prepare checkout
          id: 'replace-with-your-intent-id',
          client_secret: 'replace-with-your-client-secret'
        }
      });
      // Step #4: Mount 'card' element
      paymentRequestButton.mount('paymentRequestButton');
      window.addEventListener('onSuccess', (event) => {
        /*
          ... Handle event
        */
        alert(JSON.stringify(event.detail));
      })
    </script>
    <hr>
  </body>
</html>