<!-- 
  split-card.component.html
  Airwallex Payment Demo - Angular.  Created by Roy Yang and Josie Ku.

  This file is the html template for the Split Card component.
 -->
<div>
  <h2>Split Card element integration</h2>
  <!-- Styling example below: show loading state -->
  <p [style.display]="
      this.cardNumberReady && this.cvcReady && this.expiryReady
        ? 'none'
        : 'block'
    ">
    Loading...
  </p>
  <!-- Styling example below: show error message -->
  <p id="error" [style.display]="this.errorMessage.length > 0 ? 'block' : 'none'">
    {{ errorMessage }}
  </p>
  <!-- Styling example below: only displays block when all elements are ready  -->
  <div [style.display]="
      this.cardNumberReady && this.cvcReady && this.expiryReady
        ? 'block'
        : 'none'
    ">
    <!-- 
      STEP #3a: Add an empty container for the split card elements to be placed into
      - Ensure these are the only elements in your document with these id, otherwise 
        the elements may fail to mount. 
    -->
    <div class="field-container">
      <div class="field-label">Card number</div>
      <div id="cardNumber"></div>
      <p id="cardNumber-error" style="color: red"></p>
    </div>
    <div class="field-container">
      <div class="field-label">Expiry</div>
      <div id="expiry"></div>
      <p id="expiry-error" style="color: red"></p>
    </div>
    <div class="field-container">
      <div class="field-label">Cvc</div>
      <div id="cvc"></div>
      <p id="cvc-error" style="color: red"></p>
    </div>
    <!-- STEP #3b: Add a submit button to trigger the payment request -->
    <button on-click="triggerConfirm()" [disabled]="!fieldsCompleted || isSubmitting">
      <!-- [disabled] prevents incomplete submissions-->
      <span *ngIf="!isSubmitting">Confirm</span>
      <span *ngIf="isSubmitting">Submitting...</span>
    </button>
  </div>
</div>